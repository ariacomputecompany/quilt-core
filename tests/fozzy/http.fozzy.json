{
  "version": 1,
  "name": "http-mock",
  "steps": [
    {
      "type": "http_when",
      "method": "POST",
      "path": "/v1/charge",
      "status": 200,
      "json": { "ok": true, "chargeId": "ch_123" },
      "times": 1
    },
    {
      "type": "http_request",
      "method": "POST",
      "path": "/v1/charge",
      "expect_status": 200,
      "expect_json": { "ok": true, "chargeId": "ch_123" },
      "save_body_as": "charge_resp"
    },
    { "type": "get_kv_assert", "key": "charge_resp" }
  ]
}

